{"version":3,"names":["_selectMessagesForChannels","require","_selectReactionsForMessages","_utils","_mapStorableToMessage","_createSelectQuery","_SqliteClient","getChannelMessages","exports","_ref2","_asyncToGenerator2","_regenerator","mark","_callee","_ref","channelIds","currentUserId","messageRows","messageIds","reactionRows","messageIdVsReactions","messageIdsVsPolls","pollsById","messagesWithPolls","polls","cidVsMessages","wrap","_callee$","_context","prev","next","SqliteClient","logger","selectMessagesForChannels","sent","map","_ref3","id","selectReactionsForMessages","forEach","reaction","messageId","push","filter","message","poll_id","executeSql","apply","createSelectQuery","poll","m","cid","isBlockedMessage","mapStorableToMessage","messageRow","pollRow","abrupt","stop","_x","arguments"],"sourceRoot":"../../../../src","sources":["store/apis/getChannelMessages.ts"],"mappings":"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","ignoreList":[]}
