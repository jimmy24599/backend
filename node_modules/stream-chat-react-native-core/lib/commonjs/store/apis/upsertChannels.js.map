{"version":3,"names":["_upsertCidsForQuery","require","_upsertMembers","_upsertMessages","_upsertReads","_mapChannelDataToStorable","_createUpsertQuery","_SqliteClient","_createForOfIteratorHelper","r","e","t","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","_n","F","s","n","done","value","f","TypeError","o","a","u","call","next","_arrayLikeToArray","toString","slice","constructor","name","from","test","upsertChannels","exports","_ref2","_asyncToGenerator2","_regenerator","mark","_callee","_ref","channels","filters","_ref$flush","flush","isLatestMessagesSet","sort","queries","channelIds","_iterator","_step","channel","members","messages","read","wrap","_callee$","_context","prev","map","cid","SqliteClient","logger","t0","upsertCidsForQuery","cids","t1","sent","concat","push","createUpsertQuery","mapChannelDataToStorable","t2","upsertMembers","t3","t4","upsertReads","reads","t5","t6","upsertMessages","t7","t8","finish","executeSqlBatch","abrupt","stop","_x","apply","arguments"],"sourceRoot":"../../../../src","sources":["store/apis/upsertChannels.ts"],"mappings":"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","ignoreList":[]}
