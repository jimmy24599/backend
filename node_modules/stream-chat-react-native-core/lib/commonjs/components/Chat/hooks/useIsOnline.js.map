{"version":3,"names":["_react","require","_netinfo","_interopRequireDefault","_useAppStateListener","_useIsMountedRef","useIsOnline","exports","client","closeConnectionOnBackground","arguments","length","undefined","_useState","useState","_useState2","_slicedToArray2","isOnline","setIsOnline","_useState3","_useState4","connectionRecovering","setConnectionRecovering","isMounted","useIsMountedRef","clientExists","onBackground","useCallback","closeConnection","onForeground","userID","openConnection","useAppStateListener","useEffect","handleChangedEvent","event","online","handleRecoveredEvent","notifyChatClient","isConnected","wsConnection","onlineStatusChanged","type","unsubscribeNetInfo","setNetInfoListener","NetInfo","addEventListener","netInfoState","_client$wsConnection","isHealthy","isInternetReachable","setInitialOnlineState","_ref","_asyncToGenerator2","_regenerator","mark","_callee","_yield$NetInfo$fetch","wrap","_callee$","_context","prev","next","fetch","sent","current","stop","apply","chatListeners","push","on","forEach","listener","unsubscribe"],"sourceRoot":"../../../../../src","sources":["components/Chat/hooks/useIsOnline.ts"],"mappings":"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","ignoreList":[]}
