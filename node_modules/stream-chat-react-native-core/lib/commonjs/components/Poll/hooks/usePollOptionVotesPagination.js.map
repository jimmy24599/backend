{"version":3,"names":["_react","require","_uniqBy","_interopRequireDefault","_streamChat","_contexts","usePollOptionVotesPagination","exports","_ref","_ref$loadFirstPage","loadFirstPage","option","paginationParams","_usePollContext","usePollContext","poll","_useChatContext","useChatContext","client","_useState","useState","_useState2","_slicedToArray2","votes","setVotes","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","cursorRef","useRef","undefined","queryInProgress","optionFilter","useMemo","option_id","id","loadMore","useCallback","_asyncToGenerator2","_regenerator","mark","_callee","next","_yield$poll$queryOpti","newNext","_votes","wrap","_callee$","_context","prev","current","abrupt","queryOptionVotes","filter","Object","assign","options","sort","created_at","sent","uniqBy","concat","_toConsumableArray2","t0","stop","useEffect","length","castedListeners","map","eventName","on","event","_event$poll","vote","poll_vote","isVoteAnswer","v","removedListener","_event$poll2","forEach","listener","unsubscribe","hasNextPage"],"sourceRoot":"../../../../../src","sources":["components/Poll/hooks/usePollOptionVotesPagination.ts"],"mappings":"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","ignoreList":[]}
