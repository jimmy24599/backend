{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_useAppSettings","_useCreateChatContext","_useIsOnline2","_useMutedUsers","_useSyncDatabase","_ChannelsStateContext","_ChatContext","_DebugContext","_OverlayContext","_ThemeContext","_TranslationContext","_useStreami18n","_init","_interopRequireDefault","_native","_SqliteClient","_DBSyncManager","_version","_jsxRuntime","_this","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","init","ChatWithContext","props","_client$user","children","client","_props$closeConnectio","closeConnectionOnBackground","_props$enableOfflineS","enableOfflineSupport","i18nInstance","_props$ImageComponent","ImageComponent","Image","isMessageAIGenerated","_props$LoadingIndicat","LoadingIndicator","style","_useState","useState","_useState2","_slicedToArray2","channel","setChannel","translators","useStreami18n","_useIsOnline","useIsOnline","connectionRecovering","isOnline","_useState3","initialised","userID","_useState4","initialisedDatabaseConfig","setInitialisedDatabaseConfig","mutedUsers","useMutedUsers","debugRef","useDebugContext","isDebugModeEnabled","__DEV__","current","useEffect","sdkName","NativeHandlers","SDK","replace","sdkIdentifier","name","version","deviceIdentifier","os","concat","Platform","OS","Version","recoverStateOnReconnect","persistUserOnConnectionFailure","setEventType","setSendEventParams","action","data","user","setActiveChannel","newChannel","initializeDatabase","SqliteClient","then","_asyncToGenerator2","_regenerator","mark","_callee","wrap","_callee$","_context","prev","next","DBSyncManager","stop","error","console","log","closeDB","threads","registerSubscriptions","polls","unregisterSubscriptions","_DBSyncManager$connec","connectionChangedListener","unsubscribe","initialisedDatabase","appSettings","useAppSettings","chatContext","useCreateChatContext","useSyncDatabase","jsx","ChatProvider","value","TranslationProvider","assign","userLanguage","language","DEFAULT_USER_LANGUAGE","ThemeProvider","ChannelsStateProvider","Chat","exports","_useOverlayContext","useOverlayContext"],"sourceRoot":"../../../../src","sources":["components/Chat/Chat.tsx"],"mappings":";;;;;;;;;AAAA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AAIA,IAAAE,eAAA,GAAAF,OAAA;AACA,IAAAG,qBAAA,GAAAH,OAAA;AACA,IAAAI,aAAA,GAAAJ,OAAA;AACA,IAAAK,cAAA,GAAAL,OAAA;AAEA,IAAAM,gBAAA,GAAAN,OAAA;AAEA,IAAAO,qBAAA,GAAAP,OAAA;AACA,IAAAQ,YAAA,GAAAR,OAAA;AACA,IAAAS,aAAA,GAAAT,OAAA;AACA,IAAAU,eAAA,GAAAV,OAAA;AACA,IAAAW,aAAA,GAAAX,OAAA;AAEA,IAAAY,mBAAA,GAAAZ,OAAA;AAIA,IAAAa,cAAA,GAAAb,OAAA;AACA,IAAAc,KAAA,GAAAC,sBAAA,CAAAf,OAAA;AAEA,IAAAgB,OAAA,GAAAhB,OAAA;AACA,IAAAiB,aAAA,GAAAjB,OAAA;AAEA,IAAAkB,cAAA,GAAAlB,OAAA;AAEA,IAAAmB,QAAA,GAAAnB,OAAA;AAA6C,IAAAoB,WAAA,GAAApB,OAAA;AAAA,IAAAqB,KAAA;EAAAC,YAAA;AAAA,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,yBAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAzB,wBAAAyB,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,gBAAAK,OAAA,CAAAL,CAAA,0BAAAA,CAAA,sBAAAA,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,cAAAR,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE7C,IAAAW,gBAAI,EAAC,CAAC;AA0GN,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAGnBC,KAAuD,EACpD;EAAA,IAAAC,YAAA;EACH,IACEC,QAAQ,GASNF,KAAK,CATPE,QAAQ;IACRC,MAAM,GAQJH,KAAK,CARPG,MAAM;IAAAC,qBAAA,GAQJJ,KAAK,CAPPK,2BAA2B;IAA3BA,2BAA2B,GAAAD,qBAAA,cAAG,IAAI,GAAAA,qBAAA;IAAAE,qBAAA,GAOhCN,KAAK,CANPO,oBAAoB;IAApBA,oBAAoB,GAAAD,qBAAA,cAAG,KAAK,GAAAA,qBAAA;IAC5BE,YAAY,GAKVR,KAAK,CALPQ,YAAY;IAAAC,qBAAA,GAKVT,KAAK,CAJPU,cAAc;IAAdA,cAAc,GAAAD,qBAAA,cAAGE,kBAAK,GAAAF,qBAAA;IACtBG,oBAAoB,GAGlBZ,KAAK,CAHPY,oBAAoB;IAAAC,qBAAA,GAGlBb,KAAK,CAFPc,gBAAgB;IAAhBA,gBAAgB,GAAAD,qBAAA,cAAG,IAAI,GAAAA,qBAAA;IACvBE,KAAK,GACHf,KAAK,CADPe,KAAK;EAGP,IAAAC,SAAA,GAA8B,IAAAC,eAAQ,EAA8B,CAAC;IAAAC,UAAA,OAAAC,eAAA,aAAAH,SAAA;IAA9DI,OAAO,GAAAF,UAAA;IAAEG,UAAU,GAAAH,UAAA;EAG1B,IAAMI,WAAW,GAAG,IAAAC,4BAAa,EAACf,YAAY,CAAC;EAK/C,IAAAgB,YAAA,GAA2C,IAAAC,yBAAW,EACpDtB,MAAM,EACNE,2BACF,CAAC;IAHOqB,oBAAoB,GAAAF,YAAA,CAApBE,oBAAoB;IAAEC,QAAQ,GAAAH,YAAA,CAARG,QAAQ;EAKtC,IAAAC,UAAA,GAAkE,IAAAX,eAAQ,EAGvE;MACDY,WAAW,EAAE,KAAK;MAClBC,MAAM,EAAE3B,MAAM,CAAC2B;IACjB,CAAC,CAAC;IAAAC,UAAA,OAAAZ,eAAA,aAAAS,UAAA;IANKI,yBAAyB,GAAAD,UAAA;IAAEE,4BAA4B,GAAAF,UAAA;EAY9D,IAAMG,UAAU,GAAG,IAAAC,4BAAa,EAAqBhC,MAAM,CAAC;EAE5D,IAAMiC,QAAQ,GAAG,IAAAC,6BAAe,EAAC,CAAC;EAClC,IAAMC,kBAAkB,GAAGC,OAAO,IAAIH,QAAQ,IAAIA,QAAQ,CAACI,OAAO;EAElE,IAAMV,MAAM,GAAG3B,MAAM,CAAC2B,MAAM;EAE5B,IAAAW,gBAAS,EAAC,YAAM;IACd,IAAItC,MAAM,EAAE;MACV,IAAMuC,OAAO,GACXC,sBAAc,CAACC,GAAG,GAAGD,sBAAc,CAACC,GAAG,CAACC,OAAO,CAAC,cAAc,EAAE,EAAE,CAAC,GAAG,cAC5C;MAC5B1C,MAAM,CAAC2C,aAAa,GAAG;QACrBC,IAAI,EAAEL,OAAO;QACbM,OAAO,EAAPA;MACF,CAAC;MACD7C,MAAM,CAAC8C,gBAAgB,GAAG;QAAEC,EAAE,KAAAC,MAAA,CAAKC,qBAAQ,CAACC,EAAE,OAAAF,MAAA,CAAIC,qBAAQ,CAACE,OAAO;MAAG,CAAC;MAEtEnD,MAAM,CAACoD,uBAAuB,GAAG,KAAK;MACtCpD,MAAM,CAACqD,8BAA8B,GAAGjD,oBAAoB;IAC9D;IAEA,IAAI+B,kBAAkB,EAAE;MACtB,IAAIF,QAAQ,CAACI,OAAO,CAACiB,YAAY,EAAE;QACjCrB,QAAQ,CAACI,OAAO,CAACiB,YAAY,CAAC,MAAM,CAAC;MACvC;MACA,IAAIrB,QAAQ,CAACI,OAAO,CAACkB,kBAAkB,EAAE;QACvCtB,QAAQ,CAACI,OAAO,CAACkB,kBAAkB,CAAC;UAClCC,MAAM,EAAE,QAAQ;UAChBC,IAAI,EAAEzD,MAAM,CAAC0D;QACf,CAAC,CAAC;MACJ;IACF;EAEF,CAAC,EAAE,CAAC1D,MAAM,EAAEI,oBAAoB,CAAC,CAAC;EAElC,IAAMuD,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,UAAwC;IAAA,OAAK1C,UAAU,CAAC0C,UAAU,CAAC;EAAA;EAE7F,IAAAtB,gBAAS,EAAC,YAAM;IACd,IAAI,EAAEX,MAAM,IAAIvB,oBAAoB,CAAC,EAAE;MACrC;IACF;IAEA,IAAMyD,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAA,EAAS;MAI/B/B,4BAA4B,CAAC;QAAEJ,WAAW,EAAE,KAAK;QAAEC,MAAM,EAANA;MAAO,CAAC,CAAC;MAC5DmC,0BAAY,CAACD,kBAAkB,CAAC,CAAC,CAC9BE,IAAI,KAAAC,kBAAA,aAAAC,YAAA,YAAAC,IAAA,CAAC,SAAAC,QAAA;QAAA,OAAAF,YAAA,YAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACJ1C,4BAA4B,CAAC;gBAAEJ,WAAW,EAAE,IAAI;gBAAEC,MAAM,EAANA;cAAO,CAAC,CAAC;cAAC2C,QAAA,CAAAE,IAAA;cAAA,OACtDC,4BAAa,CAAC9E,IAAI,CAACK,MAA+B,CAAC;YAAA;YAAA;cAAA,OAAAsE,QAAA,CAAAI,IAAA;UAAA;QAAA,GAAAP,OAAA;MAAA,CAC1D,GAAC,SACI,CAAC,UAACQ,KAAK,EAAK;QAChBC,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEF,KAAK,CAAC;MAC9C,CAAC,CAAC;IACN,CAAC;IAEDd,kBAAkB,CAAC,CAAC;IAEpB,OAAO,YAAM;MACX,IAAIlC,MAAM,IAAIvB,oBAAoB,EAAE;QAClC0D,0BAAY,CAACgB,OAAO,CAAC,CAAC;MACxB;IACF,CAAC;EAEH,CAAC,EAAE,CAACnD,MAAM,EAAEvB,oBAAoB,CAAC,CAAC;EAElC,IAAAkC,gBAAS,EAAC,YAAM;IACd,IAAI,CAACtC,MAAM,EAAE;MACX;IACF;IAEAA,MAAM,CAAC+E,OAAO,CAACC,qBAAqB,CAAC,CAAC;IACtChF,MAAM,CAACiF,KAAK,CAACD,qBAAqB,CAAC,CAAC;IAEpC,OAAO,YAAM;MACXhF,MAAM,CAAC+E,OAAO,CAACG,uBAAuB,CAAC,CAAC;MACxClF,MAAM,CAACiF,KAAK,CAACC,uBAAuB,CAAC,CAAC;IACxC,CAAC;EACH,CAAC,EAAE,CAAClF,MAAM,CAAC,CAAC;EAIZ,IAAAsC,gBAAS,EAAC;IAAA,OAAM;MAAA,IAAA6C,qBAAA;MAAA,QAAAA,qBAAA,GAAMV,4BAAa,CAACW,yBAAyB,qBAAvCD,qBAAA,CAAyCE,WAAW,CAAC,CAAC;IAAA;EAAA,GAAE,EAAE,CAAC;EAEjF,IAAMC,mBAAmB,GACvBzD,yBAAyB,CAACH,WAAW,IAAIC,MAAM,KAAKE,yBAAyB,CAACF,MAAM;EAEtF,IAAM4D,WAAW,GAAG,IAAAC,8BAAc,EAACxF,MAAM,EAAEwB,QAAQ,EAAEpB,oBAAoB,EAAEkF,mBAAmB,CAAC;EAE/F,IAAMG,WAAW,GAAG,IAAAC,0CAAoB,EAAC;IACvCH,WAAW,EAAXA,WAAW;IACXtE,OAAO,EAAPA,OAAO;IACPjB,MAAM,EAANA,MAAM;IACNuB,oBAAoB,EAApBA,oBAAoB;IACpBnB,oBAAoB,EAApBA,oBAAoB;IACpBG,cAAc,EAAdA,cAAc;IACdE,oBAAoB,EAApBA,oBAAoB;IACpBe,QAAQ,EAARA,QAAQ;IACRO,UAAU,EAAVA,UAAU;IACV4B,gBAAgB,EAAhBA;EACF,CAAC,CAAC;EAEF,IAAAgC,gCAAe,EAAC;IACd3F,MAAM,EAANA,MAAM;IACNI,oBAAoB,EAApBA,oBAAoB;IACpBkF,mBAAmB,EAAnBA;EACF,CAAC,CAAC;EAEF,IAAI3D,MAAM,IAAIvB,oBAAoB,IAAI,CAACkF,mBAAmB,EAAE;IAE1D,OAAO3E,gBAAgB,GAAG,IAAAvC,WAAA,CAAAwH,GAAA,EAACjF,gBAAgB,IAAE,CAAC,GAAG,IAAI;EACvD;EAEA,OACE,IAAAvC,WAAA,CAAAwH,GAAA,EAACpI,YAAA,CAAAqI,YAAY;IAAqBC,KAAK,EAAEL,WAAY;IAAA1F,QAAA,EACnD,IAAA3B,WAAA,CAAAwH,GAAA,EAAChI,mBAAA,CAAAmI,mBAAmB;MAClBD,KAAK,EAAA3G,MAAA,CAAA6G,MAAA,KAAO7E,WAAW;QAAE8E,YAAY,EAAE,EAAAnG,YAAA,GAAAE,MAAM,CAAC0D,IAAI,qBAAX5D,YAAA,CAAaoG,QAAQ,KAAIC;MAAqB,EAAG;MAAApG,QAAA,EAExF,IAAA3B,WAAA,CAAAwH,GAAA,EAACjI,aAAA,CAAAyI,aAAa;QAACxF,KAAK,EAAEA,KAAM;QAAAb,QAAA,EAC1B,IAAA3B,WAAA,CAAAwH,GAAA,EAACrI,qBAAA,CAAA8I,qBAAqB;UAAAtG,QAAA,EAAsBA;QAAQ,CAAwB;MAAC,CAChE;IAAC,CACG;EAAC,CACV,CAAC;AAEnB,CAAC;AAuBM,IAAMuG,IAAI,GAAAC,OAAA,CAAAD,IAAA,GAAG,SAAPA,IAAIA,CAGfzG,KAAuD,EACpD;EACH,IAAA2G,kBAAA,GAAkB,IAAAC,iCAAiB,EAAC,CAAC;IAA7B7F,KAAK,GAAA4F,kBAAA,CAAL5F,KAAK;EAEb,OAAO,IAAAxC,WAAA,CAAAwH,GAAA,EAAChG,eAAe,EAAAT,MAAA,CAAA6G,MAAA;IAAOpF,KAAK,EAALA;EAAK,GAAQf,KAAK,CAAG,CAAC;AACtD,CAAC","ignoreList":[]}
