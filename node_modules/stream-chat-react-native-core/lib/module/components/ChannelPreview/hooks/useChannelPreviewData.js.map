{"version":3,"names":["_react","require","_throttle","_interopRequireDefault","_useIsChannelMuted2","_useLatestMessagePreview","_contexts","useChannelPreviewData","exports","channel","client","forceUpdateOverride","_useState","useState","_useState2","_slicedToArray2","forceUpdate","setForceUpdate","_useState3","state","messages","length","_useState4","lastMessage","setLastMessage","_useState5","countUnread","_useState6","unread","setUnread","_useIsChannelMuted","useIsChannelMuted","muted","_useChannelsContext","useChannelsContext","contextForceUpdate","channelListForceUpdate","channelLastMessage","channelLastMessageString","concat","id","updated_at","useEffect","_client$on","on","unsubscribe","newUnreadCount","handleReadEvent","event","_event$user","_event$user2","cid","user","userID","prev","_client$on2","handleUnreadEvent","_event$user3","_client$user","_client$on3","refreshUnreadCount","useMemo","throttle","handleEvent","latestMessages","handleNewMessageEvent","message","parent_id","show_in_channel","handleUpdatedOrDeletedMessage","prevLastMessage","_event$message","listeners","forEach","l","latestMessagePreview","useLatestMessagePreview"],"sourceRoot":"../../../../../src","sources":["components/ChannelPreview/hooks/useChannelPreviewData.ts"],"mappings":"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","ignoreList":[]}
