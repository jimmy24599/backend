{"version":3,"names":["_constants","require","_schema","_createCreateTableQuery","_SqliteClient","sqlite","e","isRemoteDebuggerError","Error","message","includes","SqliteClient","exports","_createClass2","_classCallCheck2","dbVersion","dbName","DB_NAME","dbLocation","DB_LOCATION","getDbVersion","setDbVersion","version","openDB","_asyncToGenerator2","_regenerator","mark","_callee","_SqliteClient$db","wrap","_callee$","_context","prev","next","undefined","db","open","location","name","execute","t0","logger","concat","error","console","stop","closeDB","close","executeSqlBatch","_ref2","_callee2","queries","finalQueries","_callee2$","_context2","length","abrupt","map","query","push","executeBatch","_x","apply","arguments","executeSql","_ref3","_callee3","params","_yield$_SqliteClient$","rows","_callee3$","_context3","sent","_x2","_x3","dropTables","_callee4","_callee4$","_context4","Object","keys","tables","table","deleteDatabase","dbname","initializeDatabase","_callee5","q","_callee5$","_context5","getUserPragmaVersion","updateUserPragmaVersion","reduce","queriesSoFar","tableName","_toConsumableArray2","createCreateTableQuery","log","_ref6","_callee6","_callee6$","_context6","_x4","_callee7","_yield$_SqliteClient$2","result","_callee7$","_context7","user_version","resetDB","_callee8","_callee8$","_context8"],"sourceRoot":"../../../src","sources":["store/SqliteClient.ts"],"mappings":"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","ignoreList":[]}
